# Flixor OTA Server - Production Environment Variables
# Copy this file to .env and fill in your values

# ==============================================================================
# Server Configuration
# ==============================================================================

# The public URL where the OTA server is hosted (used for asset URLs in manifest)
HOST=https://ota.flixor.xyz

# ==============================================================================
# Database Configuration (PostgreSQL in Docker)
# ==============================================================================

POSTGRES_USER=flixor
POSTGRES_PASSWORD=change-this-secure-password
POSTGRES_DB=flixor_ota

# ==============================================================================
# Security
# ==============================================================================

# Admin dashboard password
ADMIN_PASSWORD=change-this-admin-password

# Upload key for CI/CD pipeline (used when publishing updates)
# Generate with: openssl rand -hex 32
UPLOAD_KEY=change-this-upload-key

# RSA private key for code signing (base64 encoded, optional)
# Generate with:
#   openssl genrsa -out private.pem 2048
#   cat private.pem | base64 -w 0
# Leave empty to disable code signing
PRIVATE_KEY_BASE_64=

# ==============================================================================
# Storage Configuration (Optional - defaults to local)
# ==============================================================================

# Storage type: local (default), s3, gcs, supabase
# BLOB_STORAGE_TYPE=s3

# For S3/Cloudflare R2 storage:
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET_NAME=flixor-ota
# S3_ENDPOINT=https://xxx.r2.cloudflarestorage.com
# S3_REGION=auto

# For Supabase storage:
# SUPABASE_URL=your-supabase-project-url
# SUPABASE_API_KEY=your-supabase-service-role-key
# SUPABASE_BUCKET_NAME=expo-updates
